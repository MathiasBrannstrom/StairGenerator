<Window x:Class="StairGenerator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Stair Generator" Height="800" Width="1200">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="270"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Input Controls Panel -->
        <Border Grid.Column="0" Background="#F5F5F5" Padding="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="Stair Generator" FontSize="16" FontWeight="Bold" Margin="0,0,0,20"/>
                    
                    <TabControl x:Name="StairTypeTabControl" Margin="0,0,0,20" SelectedIndex="1">
                        <TabItem Header="Single Stair" x:Name="SingleStairTab">
                            <StackPanel Margin="10">
                                <TextBlock Text="Basic straight staircase" FontStyle="Italic" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Overall Height (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="OverallHeightTextBox" Text="2700" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Step Height (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="StepHeightTextBox" Text="180" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Step Length (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="StepLengthTextBox" Text="280" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Stair Width (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="StairWidthTextBox" Text="1000" Margin="0,0,0,15"/>
                            </StackPanel>
                        </TabItem>
                        
                        <TabItem Header="Linear Stairwell" x:Name="LinearStairwellTab">
                            <StackPanel Margin="10">
                                <TextBlock Text="Stairs with landings (forward/backward)" FontStyle="Italic" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Stairwell Height (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="LinearStairwellHeightTextBox" Text="2700" Margin="0,0,0,15" TextChanged="StairwellHeightTextBox_TextChanged"/>
                                
                                <TextBlock Text="Step Length (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="LinearStepLengthTextBox" Text="280" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Stair Width (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="LinearStairWidthTextBox" Text="1000" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Platform Width (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="PlatformWidthTextBox" Text="3000" Margin="0,0,0,15"/>
                                
                                <TextBlock Text="Platform Depth (mm):" Margin="0,0,0,5"/>
                                <TextBox x:Name="PlatformDepthTextBox" Text="1500" Margin="0,0,0,15"/>

                                <CheckBox x:Name="ClockwiseCheckBox" Content="Clockwise going up" IsChecked="True" Margin="0,0,0,15"/>

                                <TextBlock Text="Stair Levels:" FontWeight="Bold" Margin="0,10,0,5"/>
                                
                                <ScrollViewer x:Name="LevelsScrollViewer" MaxHeight="200" VerticalScrollBarVisibility="Auto">
                                    <StackPanel x:Name="LevelsStackPanel"/>
                                </ScrollViewer>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <Button x:Name="AddLevelButton" Content="Add Level" 
                                            Click="AddLevelButton_Click" 
                                            Background="#FF9800" 
                                            Foreground="White" 
                                            Padding="8,4" 
                                            Margin="0,0,10,0"/>
                                    <Button x:Name="RemoveLevelButton" Content="Remove Level" 
                                            Click="RemoveLevelButton_Click" 
                                            Background="#F44336" 
                                            Foreground="White" 
                                            Padding="8,4"/>
                                </StackPanel>
                                
                                <TextBlock x:Name="TotalHeightTextBlock" Text="Total Height: 0 mm"
                                           FontWeight="Bold" Margin="0,10,0,0"/>
                                <TextBlock x:Name="CalculatedStepHeightTextBlock" Text="Calculated Step Height: 0 mm"
                                           FontStyle="Italic" Margin="0,5,0,0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </TabItem>
                        
                    </TabControl>
                    
                    <Button x:Name="GenerateButton" Content="Generate Stair" 
                            Click="GenerateButton_Click" 
                            Background="#4CAF50" 
                            Foreground="White" 
                            Padding="10,5" 
                            Margin="0,10,0,0"/>
                    
                    <Button x:Name="ExportButton" Content="Export Mesh" 
                            Click="ExportButton_Click" 
                            Background="#2196F3" 
                            Foreground="White" 
                            Padding="10,5" 
                            Margin="0,10,0,0"/>
                    
                    <TextBlock x:Name="StatusTextBlock" Text="Ready" 
                               Margin="0,20,0,0" 
                               TextWrapping="Wrap"/>
                </StackPanel>
            </ScrollViewer>
        </Border>
        
        <!-- 3D Viewport -->
        <Border Grid.Column="1" Background="White" x:Name="ViewportContainer">
            <Viewport3D x:Name="MainViewport">
                <Viewport3D.Camera>
                    <PerspectiveCamera Position="5,5,5" LookDirection="-1,-1,-1" UpDirection="0,1,0" FieldOfView="60"/>
                </Viewport3D.Camera>
                
                <Viewport3D.Children>
                    <!-- Lighting -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <DirectionalLight Color="White" Direction="0,-1,0"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>
                    
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <AmbientLight Color="#404040"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>
                    
                    <!-- Stair Model Container -->
                    <ModelVisual3D x:Name="StairModelVisual"/>
                </Viewport3D.Children>
            </Viewport3D>
        </Border>
    </Grid>
</Window>